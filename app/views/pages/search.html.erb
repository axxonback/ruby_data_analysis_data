<% @page_title = "Search Results" %>
<%= render(:partial => 'page_breadcrumbs', :locals => {:endpoint => "search"}) %>
<header class="jumbotron subhead" id="overview">
  <h1><%= @page_title %></h1>
</header>

<%= form_tag(search_pages_path, { :class => 'well form-search ' }) do -%>
<%= text_field_tag :q, params[:q], {:class => 'search-query', :placeholder => 'Find page (title, page id, or node id)', :autocomplete => 'off'} -%>
<%- end -%>

<div class="row">
  <%- if @page or @node -%>
    <%- if @page -%>
      <div class="span6">
        <h3>Page ID results</h3>
        <p>Found page #<%= @page.id %>: <%= link_to(@page.title,page_path(@page))%></p>
      </div>
    <%- end -%>
    <%- if @node -%>
      <div class="span6">
        <h3>Node ID results</h3>
        <p>Found node #<%= @node.id%>: <%= link_to(@node.title,node_path(@node))%></p>
      </div>  
    <%- end -%>
  <%- elsif(@pagelist) -%>
  <div class="span12">
    <h3>Pages matching <%= params[:q]%></h3>
    <ul class="unstyled">
      <%- @pagelist.each do |page| -%>
      <li><%= link_to(page.title,page_path(page))%></li>
      <%- end -%>
    </ul>
  </div>
  <%- else -%>
  <div class="span12">
    <p>No results. Please search again</p>
  </div>
  <%- end -%>
  
</div>
